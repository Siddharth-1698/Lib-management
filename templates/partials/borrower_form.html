<form method="post" 
      hx-post="{% if borrower %}{% url 'borrower_update' borrower.id %}{% else %}{% url 'borrower_create' %}{% endif %}" 
      hx-target="#modal" 
      hx-swap="innerHTML">
    {% csrf_token %}
    <div class="mb-3">
        {{ form.name.label_tag }} {{ form.name }}
    </div>
    <div class="mb-3">
        {{ form.book.label_tag }} {{ form.book }}
    </div>
    <div class="mb-3">
        {{ form.return_date.label_tag }}
        <input 
            type="date" 
            name="return_date" 
            class="form-control" 
            id="id_return_date" 
            value="{{ form.return_date.value|default:'' }}">
    </div>
    <div class="d-flex justify-content-end">
        <button type="submit" class="btn btn-success me-2">Save</button>
        <button type="button" class="btn btn-secondary" onclick="location.reload()">Cancel</button>
    </div>
    <script>
        document.body.addEventListener('refreshPage', function () {
            location.reload();  // Refresh the entire page
        });
    </script>
</form>
